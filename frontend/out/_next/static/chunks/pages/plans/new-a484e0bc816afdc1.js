(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{2404:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/new",function(){return a(8333)}])},4842:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var r=a(7876);a(4232);var l=a(7328),i=a.n(l),t=a(2471),n=a(8230),m=a.n(n),o=a(9099);let c=e=>{let{children:s,title:a="Lyz - Planos C\xedclicos Personalizados"}=e,{user:l,logout:n,isAuthenticated:c,isSuperadmin:d}=(0,t.As)(),x=(0,o.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("meta",{name:"description",content:"Sistema Lyz para planos personalizados baseados em ciclicidade feminina"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(m(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"Lyz"})}),c&&(0,r.jsxs)("nav",{className:"ml-6 flex space-x-8",children:[(0,r.jsx)(m(),{href:"/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat("/dashboard"===x.pathname?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Dashboard"}),(0,r.jsx)(m(),{href:"/plans",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/plans")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Meus Planos"}),d&&(0,r.jsx)(m(),{href:"/admin/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/admin")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Administra\xe7\xe3o"})]})]}),(0,r.jsx)("div",{className:"flex items-center",children:c?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==l?void 0:l.name.split(" ")[0]]}),(0,r.jsx)("button",{onClick:n,className:"text-sm text-gray-700 hover:text-primary-600",children:"Sair"})]}):(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(m(),{href:"/auth/login",className:"text-sm font-medium text-gray-700 hover:text-primary-600",children:"Entrar"}),(0,r.jsx)(m(),{href:"/auth/register",className:"text-sm font-medium bg-primary-600 text-white px-3 py-1 rounded-md hover:bg-primary-700",children:"Registrar"})]})})]})})}),(0,r.jsx)("main",{className:"flex-grow",children:s}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-auto",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Lyz Healthcare. Todos os direitos reservados."]})})})]})]})}},8333:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var r=a(7876),l=a(4232),i=a(9099),t=a(4842),n=a(9593),m=a(1408);let o=m.Ik().shape({profession:m.Yj().required("Selecione uma profiss\xe3o")}),c=e=>{let{onProfessionSelect:s}=e;return(0,r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{className:"text-center text-xl font-bold text-gray-800",children:"Selecione sua \xc1rea de Atua\xe7\xe3o"})}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Esta sele\xe7\xe3o ajudar\xe1 a personalizar o plano gerado de acordo com seu escopo de atua\xe7\xe3o profissional."}),(0,r.jsx)(n.l1,{initialValues:{profession:""},validationSchema:o,onSubmit:e=>{s(e.profession)},children:e=>{let{isSubmitting:s}=e;return(0,r.jsxs)(n.lV,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.D0,{type:"radio",name:"profession",id:"medical_nutritionist",value:"medical_nutritionist",className:"h-5 w-5 text-primary-600"}),(0,r.jsxs)("label",{htmlFor:"medical_nutritionist",className:"ml-3 block text-gray-700",children:[(0,r.jsx)("span",{className:"font-medium",children:"M\xe9dico/Nutricionista"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Plano incluir\xe1 recomenda\xe7\xf5es de suplementa\xe7\xe3o com dosagens espec\xedficas."})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.D0,{type:"radio",name:"profession",id:"other_professional",value:"other_professional",className:"h-5 w-5 text-primary-600"}),(0,r.jsxs)("label",{htmlFor:"other_professional",className:"ml-3 block text-gray-700",children:[(0,r.jsx)("span",{className:"font-medium",children:"Outro Profissional"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Plano incluir\xe1 recomenda\xe7\xf5es gerais sem dosagens espec\xedficas de suplementa\xe7\xe3o."})]})]}),(0,r.jsx)(n.Kw,{name:"profession",component:"div",className:"error-message"})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{type:"submit",className:"btn-primary px-8",disabled:s,children:"Continuar"})})]})}})]})]})})},d=m.Ik().shape({name:m.Yj().required("Nome da paciente \xe9 obrigat\xf3rio"),age:m.ai().required("Idade \xe9 obrigat\xf3ria").positive("Idade deve ser um n\xfamero positivo").integer("Idade deve ser um n\xfamero inteiro"),email:m.Yj().email("Email inv\xe1lido"),phone:m.Yj(),height:m.ai().positive("Altura deve ser um n\xfamero positivo"),weight:m.ai().positive("Peso deve ser um n\xfamero positivo"),menarche_age:m.ai().positive("Idade da menarca deve ser um n\xfamero positivo").integer("Idade da menarca deve ser um n\xfamero inteiro"),cycle_length:m.ai().positive("Dura\xe7\xe3o do ciclo deve ser um n\xfamero positivo").integer("Dura\xe7\xe3o do ciclo deve ser um n\xfamero inteiro"),period_length:m.ai().positive("Dura\xe7\xe3o do per\xedodo menstrual deve ser um n\xfamero positivo").integer("Dura\xe7\xe3o do per\xedodo menstrual deve ser um n\xfamero inteiro"),is_menopausal:m.zM(),main_complaints:m.Yj().required("Queixas principais s\xe3o obrigat\xf3rias"),pregnancy_history:m.Yj(),medical_history:m.Yj(),family_history:m.Yj(),current_medications:m.Yj(),current_supplements:m.Yj(),sleep_quality:m.Yj(),exercise_routine:m.Yj(),stress_level:m.Yj(),treatment_goals:m.Yj().required("Objetivos do tratamento s\xe3o obrigat\xf3rios")}),x=e=>{let{onSubmit:s,onBack:a}=e;return(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{className:"text-center text-xl font-bold text-gray-800",children:"Dados da Paciente"})}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Preencha as informa\xe7\xf5es da paciente para personaliza\xe7\xe3o do plano c\xedclico."}),(0,r.jsx)(n.l1,{initialValues:{name:"",age:"",email:"",phone:"",height:"",weight:"",menarche_age:"",cycle_length:"",period_length:"",is_menopausal:!1,main_complaints:"",pregnancy_history:"",medical_history:"",family_history:"",current_medications:"",current_supplements:"",sleep_quality:"",exercise_routine:"",stress_level:"",treatment_goals:""},validationSchema:d,onSubmit:s,children:e=>{let{isSubmitting:s}=e;return(0,r.jsxs)(n.lV,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Informa\xe7\xf5es B\xe1sicas"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nome Completo *"}),(0,r.jsx)(n.D0,{type:"text",name:"name",id:"name",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"name",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"age",className:"form-label",children:"Idade *"}),(0,r.jsx)(n.D0,{type:"number",name:"age",id:"age",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"age",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,r.jsx)(n.D0,{type:"email",name:"email",id:"email",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"email",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Telefone"}),(0,r.jsx)(n.D0,{type:"text",name:"phone",id:"phone",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"phone",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"height",className:"form-label",children:"Altura (cm)"}),(0,r.jsx)(n.D0,{type:"number",name:"height",id:"height",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"height",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Peso (kg)"}),(0,r.jsx)(n.D0,{type:"number",name:"weight",id:"weight",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"weight",component:"div",className:"error-message"})]}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2 mt-4",children:"Hist\xf3rico Menstrual"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"menarche_age",className:"form-label",children:"Idade da Menarca"}),(0,r.jsx)(n.D0,{type:"number",name:"menarche_age",id:"menarche_age",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"menarche_age",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cycle_length",className:"form-label",children:"Dura\xe7\xe3o do Ciclo (dias)"}),(0,r.jsx)(n.D0,{type:"number",name:"cycle_length",id:"cycle_length",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"cycle_length",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"period_length",className:"form-label",children:"Dura\xe7\xe3o da Menstrua\xe7\xe3o (dias)"}),(0,r.jsx)(n.D0,{type:"number",name:"period_length",id:"period_length",className:"input-field"}),(0,r.jsx)(n.Kw,{name:"period_length",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.D0,{type:"checkbox",name:"is_menopausal",id:"is_menopausal",className:"h-4 w-4 text-primary-600 rounded"}),(0,r.jsx)("label",{htmlFor:"is_menopausal",className:"ml-2 form-label",children:"Est\xe1 em Climat\xe9rio/Menopausa"})]}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2 mt-4",children:"Queixas e Hist\xf3rico"})}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{htmlFor:"main_complaints",className:"form-label",children:"Queixas Principais *"}),(0,r.jsx)(n.D0,{as:"textarea",name:"main_complaints",id:"main_complaints",rows:4,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"main_complaints",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pregnancy_history",className:"form-label",children:"Hist\xf3rico de Gesta\xe7\xf5es"}),(0,r.jsx)(n.D0,{as:"textarea",name:"pregnancy_history",id:"pregnancy_history",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"pregnancy_history",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"medical_history",className:"form-label",children:"Hist\xf3rico M\xe9dico"}),(0,r.jsx)(n.D0,{as:"textarea",name:"medical_history",id:"medical_history",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"medical_history",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"family_history",className:"form-label",children:"Hist\xf3rico Familiar"}),(0,r.jsx)(n.D0,{as:"textarea",name:"family_history",id:"family_history",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"family_history",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"current_medications",className:"form-label",children:"Medicamentos Atuais"}),(0,r.jsx)(n.D0,{as:"textarea",name:"current_medications",id:"current_medications",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"current_medications",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"current_supplements",className:"form-label",children:"Suplementos Atuais"}),(0,r.jsx)(n.D0,{as:"textarea",name:"current_supplements",id:"current_supplements",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"current_supplements",component:"div",className:"error-message"})]}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2 mt-4",children:"Estilo de Vida"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sleep_quality",className:"form-label",children:"Qualidade do Sono"}),(0,r.jsx)(n.D0,{as:"textarea",name:"sleep_quality",id:"sleep_quality",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"sleep_quality",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"exercise_routine",className:"form-label",children:"Rotina de Exerc\xedcios"}),(0,r.jsx)(n.D0,{as:"textarea",name:"exercise_routine",id:"exercise_routine",rows:3,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"exercise_routine",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"stress_level",className:"form-label",children:"N\xedvel de Estresse"}),(0,r.jsxs)(n.D0,{as:"select",name:"stress_level",id:"stress_level",className:"input-field",children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),(0,r.jsx)("option",{value:"baixo",children:"Baixo"}),(0,r.jsx)("option",{value:"moderado",children:"Moderado"}),(0,r.jsx)("option",{value:"alto",children:"Alto"}),(0,r.jsx)("option",{value:"muito alto",children:"Muito Alto"})]}),(0,r.jsx)(n.Kw,{name:"stress_level",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{htmlFor:"treatment_goals",className:"form-label",children:"Objetivos do Tratamento *"}),(0,r.jsx)(n.D0,{as:"textarea",name:"treatment_goals",id:"treatment_goals",rows:4,className:"input-field"}),(0,r.jsx)(n.Kw,{name:"treatment_goals",component:"div",className:"error-message"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"btn-secondary",children:"Voltar"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:s,children:s?"Salvando...":"Continuar"})]})]})}})]})]})})};var h=a(2471),p=a(1059),u=function(e){return e[e.PROFESSION_SELECTION=1]="PROFESSION_SELECTION",e[e.PATIENT_DATA=2]="PATIENT_DATA",e}(u||{});let j=()=>{let[e,s]=(0,l.useState)(1),[a,n]=(0,l.useState)(""),[m,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(null),{isAuthenticated:j,loading:N}=(0,h.As)(),g=(0,i.useRouter)();(0,l.useEffect)(()=>{N||j||g.push("/auth/login")},[j,N,g]);let b=async e=>{o(!0),u(null);try{let s=await p.a7.startPlan({professional_type:a,patient_data:e});g.push("/plans/".concat(s.data.plan_id))}catch(e){var s,r;u((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Erro ao criar plano. Tente novamente.")}finally{o(!1)}};return N?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Carregando..."}):(0,r.jsx)(t.A,{title:"Novo Plano - Lyz",children:(0,r.jsx)("div",{className:"bg-gray-50 min-h-[calc(100vh-136px)] py-10",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Novo Plano"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Cria\xe7\xe3o de plano c\xedclico personalizado para sua paciente"})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("ol",{className:"flex items-center w-full max-w-3xl",children:[(0,r.jsxs)("li",{className:"flex items-center text-primary-600 ".concat(e>=1?"font-semibold":""),children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full ".concat(e>=1?"bg-primary-100":"bg-gray-100"," ").concat(e>1?"text-primary-600":""),children:"1"}),(0,r.jsx)("span",{className:"ml-2",children:"\xc1rea de Atua\xe7\xe3o"})]}),(0,r.jsx)("div",{className:"w-16 h-0.5 mx-2 bg-gray-200"}),(0,r.jsxs)("li",{className:"flex items-center ".concat(e>=2?"text-primary-600 font-semibold":"text-gray-500"),children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full ".concat(e>=2?"bg-primary-100":"bg-gray-100"),children:"2"}),(0,r.jsx)("span",{className:"ml-2",children:"Dados da Paciente"})]}),(0,r.jsx)("div",{className:"w-16 h-0.5 mx-2 bg-gray-200"}),(0,r.jsxs)("li",{className:"flex items-center text-gray-500",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:"3"}),(0,r.jsx)("span",{className:"ml-2",children:"Question\xe1rio"})]}),(0,r.jsx)("div",{className:"w-16 h-0.5 mx-2 bg-gray-200"}),(0,r.jsxs)("li",{className:"flex items-center text-gray-500",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:"4"}),(0,r.jsx)("span",{className:"ml-2",children:"Exames"})]})]})})}),d&&(0,r.jsxs)("div",{className:"mb-8 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:[(0,r.jsx)("strong",{className:"font-bold",children:"Erro:"}),(0,r.jsxs)("span",{className:"block sm:inline",children:[" ",d]})]}),1===e&&(0,r.jsx)(c,{onProfessionSelect:e=>{n(e),s(2)}}),2===e&&(0,r.jsx)(x,{onSubmit:b,onBack:()=>{2===e&&s(1)}})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[695,856,636,593,792],()=>s(2404)),_N_E=e.O()}]);