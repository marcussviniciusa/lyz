(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{4572:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(9498)}])},4842:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var r=a(7876);a(4232);var t=a(7328),d=a.n(t),i=a(2471),l=a(8230),n=a.n(l),o=a(9099);let c=e=>{let{children:s,title:a="Lyz - Planos C\xedclicos Personalizados"}=e,{user:t,logout:l,isAuthenticated:c,isSuperadmin:x}=(0,i.As)(),m=(0,o.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d(),{children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("meta",{name:"description",content:"Sistema Lyz para planos personalizados baseados em ciclicidade feminina"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(n(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"Lyz"})}),c&&(0,r.jsxs)("nav",{className:"ml-6 flex space-x-8",children:[(0,r.jsx)(n(),{href:"/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat("/dashboard"===m.pathname?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Dashboard"}),(0,r.jsx)(n(),{href:"/plans",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(m.pathname.startsWith("/plans")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Meus Planos"}),x&&(0,r.jsx)(n(),{href:"/admin/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(m.pathname.startsWith("/admin")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Administra\xe7\xe3o"})]})]}),(0,r.jsx)("div",{className:"flex items-center",children:c?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==t?void 0:t.name.split(" ")[0]]}),(0,r.jsx)("button",{onClick:l,className:"text-sm text-gray-700 hover:text-primary-600",children:"Sair"})]}):(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(n(),{href:"/auth/login",className:"text-sm font-medium text-gray-700 hover:text-primary-600",children:"Entrar"}),(0,r.jsx)(n(),{href:"/auth/register",className:"text-sm font-medium bg-primary-600 text-white px-3 py-1 rounded-md hover:bg-primary-700",children:"Registrar"})]})})]})})}),(0,r.jsx)("main",{className:"flex-grow",children:s}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-auto",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Lyz Healthcare. Todos os direitos reservados."]})})})]})]})}},9498:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var r=a(7876),t=a(4232),d=a(4842),i=a(2471),l=a(9099),n=a(1059),o=a(8230),c=a.n(o);let x=()=>{var e,s;let{user:a,isAuthenticated:o,isSuperadmin:x,loading:m}=(0,i.As)(),h=(0,l.useRouter)(),[g,p]=(0,t.useState)(null),[y,b]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{m||o&&x||h.push("/auth/login")},[o,x,m,h]),(0,t.useEffect)(()=>{let e=async()=>{try{let e=await n.Er.getDashboard();p(e.data)}catch(e){console.error("Error fetching dashboard data:",e)}finally{b(!1)}};o&&x&&e()},[o,x]),!m&&o&&x)?(0,r.jsx)(d.A,{title:"Dashboard Administrativo - Lyz",children:(0,r.jsx)("div",{className:"bg-gray-50 min-h-[calc(100vh-136px)] py-10",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Administrativo"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Vis\xe3o geral do sistema Lyz e m\xe9tricas importantes"})]}),y?(0,r.jsx)("div",{className:"text-center py-10",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Carregando dados do dashboard..."})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"card bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Tokens Utilizados"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-primary-600",children:null==g?void 0:null===(e=g.totalTokensUsed)||void 0===e?void 0:e.toLocaleString()}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total de tokens consumidos"})]}),(0,r.jsxs)("div",{className:"card bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Custo Total"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-primary-600",children:["$",Number(null==g?void 0:g.totalCost).toFixed(2)]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Custo dos tokens em USD"})]}),(0,r.jsxs)("div",{className:"card bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Empresas"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-primary-600",children:null==g?void 0:g.companyCount}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Empresas cadastradas"})]}),(0,r.jsxs)("div",{className:"card bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Usu\xe1rios"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-primary-600",children:null==g?void 0:g.userCount}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Usu\xe1rios registrados"})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Uso de Tokens (\xdaltimos 30 dias)"})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Gr\xe1fico de uso de tokens seria exibido aqui"})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Uso por Empresa"}),(0,r.jsx)(c(),{href:"/admin/tokens/usage",className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"Ver Detalhes"})]}),(0,r.jsx)("div",{className:"px-6 py-4",children:(null==g?void 0:null===(s=g.tokenUsageByCompany)||void 0===s?void 0:s.length)>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Custo"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.tokenUsageByCompany.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.Company.name})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Number(e.tokens).toLocaleString()}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",Number(e.cost).toFixed(2)]})]},e.company_id))})]})}):(0,r.jsx)("p",{className:"text-center py-4 text-gray-500",children:"Nenhum dado de uso dispon\xedvel"})})]}),(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"A\xe7\xf5es R\xe1pidas"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)(c(),{href:"/admin/companies",className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gerenciar Empresas"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Adicionar, editar ou remover empresas do sistema"})]}),(0,r.jsxs)(c(),{href:"/admin/users",className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gerenciar Usu\xe1rios"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Administrar contas de usu\xe1rios e permiss\xf5es"})]}),(0,r.jsxs)(c(),{href:"/admin/prompts",className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gerenciar Prompts"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Editar prompts usados na gera\xe7\xe3o de planos"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)(c(),{href:"/admin/transcription",className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Configurar Transcri\xe7\xe3o"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Configurar credenciais do Google Speech para transcri\xe7\xe3o"})]}),(0,r.jsxs)(c(),{href:"/admin/openai-config",className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Configurar OpenAI"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Configurar chave da API da OpenAI para gera\xe7\xe3o de planos"})]})]}),(0,r.jsxs)(c(),{href:"/admin/tokens/usage",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Relat\xf3rios de Tokens"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Visualizar relat\xf3rios detalhados de uso de tokens"})]})]})]})]})]})})}):(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Carregando..."})}}},e=>{var s=s=>e(e.s=s);e.O(0,[695,636,593,792],()=>s(4572)),_N_E=e.O()}]);