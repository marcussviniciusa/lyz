(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{2418:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var s=r(7876),t=r(4232),o=r(4842),i=r(2471),n=r(9099),l=r(1059);let d=()=>{let{user:e,isAuthenticated:a,isSuperadmin:r,loading:d}=(0,i.As)(),c=(0,n.useRouter)(),[m,x]=(0,t.useState)(""),[h,u]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),[f,j]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[N,b]=(0,t.useState)(!0);(0,t.useEffect)(()=>{d||a&&r||c.push("/auth/login")},[a,r,d,c]);let w=async()=>{try{u(!0);let e=await l.Er.getGoogleSpeechConfig();if(e.data.config){let a=JSON.stringify(JSON.parse(e.data.config),null,2);x(a)}else x("");j(!1),y(null)}catch(e){console.error("Erro ao carregar configura\xe7\xe3o do Google Speech:",e),y("Erro ao carregar configura\xe7\xe3o: "+(e.message||"Tente novamente")),x("")}finally{u(!1)}};(0,t.useEffect)(()=>{a&&r&&w()},[a,r]),(0,t.useEffect)(()=>{try{if(""===m.trim()){b(!0);return}JSON.parse(m),b(!0)}catch(e){b(!1)}},[m]);let C=async()=>{if(!N){y("O JSON fornecido \xe9 inv\xe1lido. Corrija antes de salvar.");return}try{g(!0),j(!1),y(null),await l.Er.updateGoogleSpeechConfig({config:m.trim()?m:null}),j(!0),setTimeout(()=>{j(!1)},3e3)}catch(e){console.error("Erro ao salvar configura\xe7\xe3o:",e),y("Erro ao salvar configura\xe7\xe3o: "+(e.message||"Tente novamente"))}finally{g(!1)}};return!d&&a&&r?(0,s.jsx)(o.A,{title:"Configura\xe7\xe3o de Transcri\xe7\xe3o - Lyz",children:(0,s.jsx)("div",{className:"bg-gray-50 min-h-[calc(100vh-136px)] py-10",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xe3o de Transcri\xe7\xe3o"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Configure as credenciais do Google Speech para o servi\xe7o de transcri\xe7\xe3o de \xe1udio"})]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Credenciais do Google Cloud"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Cole o conte\xfado do arquivo JSON de credenciais do Google Cloud para a API Speech-to-Text ou fa\xe7a upload do arquivo diretamente."}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"inline-block bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md cursor-pointer transition-colors",children:[(0,s.jsx)("span",{children:"Fazer upload do arquivo JSON"}),(0,s.jsx)("input",{type:"file",accept:".json",className:"hidden",onChange:e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!r)return;let s=new FileReader;s.onload=e=>{try{var a;let r=null===(a=e.target)||void 0===a?void 0:a.result,s=JSON.parse(r),t=JSON.stringify(s,null,2);x(t),b(!0)}catch(e){y("O arquivo selecionado n\xe3o cont\xe9m um JSON v\xe1lido."),b(!1)}},s.readAsText(r)}})]})})]}),h?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Carregando configura\xe7\xe3o..."})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"json-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Conte\xfado JSON das Credenciais"}),(0,s.jsx)("textarea",{id:"json-content",rows:15,className:"w-full px-3 py-2 border ".concat(N?"border-gray-300":"border-red-500"," rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm"),value:m,onChange:e=>x(e.target.value),placeholder:'{"type": "service_account", "project_id": "seu-projeto", ...}'}),!N&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"O JSON fornecido \xe9 inv\xe1lido. Verifique a formata\xe7\xe3o."})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[f&&(0,s.jsx)("p",{className:"text-sm text-green-600",children:"Configura\xe7\xe3o salva com sucesso!"}),v&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:v})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-md transition-colors",onClick:w,disabled:h||p,children:"Cancelar"}),(0,s.jsx)("button",{type:"button",className:"bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md transition-colors ".concat(p||!N?"opacity-50 cursor-not-allowed":""),onClick:C,disabled:p||!N,children:p?"Salvando...":"Salvar Configura\xe7\xe3o"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-white shadow-md rounded-lg overflow-hidden p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Instru\xe7\xf5es"}),(0,s.jsxs)("div",{className:"prose max-w-none",children:[(0,s.jsx)("p",{children:"Para obter credenciais do Google Cloud para a API Speech-to-Text, siga os passos abaixo:"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 ml-4",children:[(0,s.jsxs)("li",{children:["Acesse o ",(0,s.jsx)("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Console do Google Cloud"})]}),(0,s.jsx)("li",{children:"Crie um novo projeto ou selecione um projeto existente"}),(0,s.jsx)("li",{children:"Ative a API Speech-to-Text para o projeto"}),(0,s.jsx)("li",{children:"Crie uma conta de servi\xe7o e gere uma chave JSON"}),(0,s.jsx)("li",{children:"Fa\xe7a o download do arquivo JSON de credenciais"}),(0,s.jsx)("li",{children:"Cole o conte\xfado do arquivo JSON no campo acima ou fa\xe7a upload do arquivo"})]}),(0,s.jsxs)("p",{className:"mt-4",children:[(0,s.jsx)("strong",{children:"Nota:"})," As credenciais ser\xe3o armazenadas de forma segura e utilizadas apenas para a funcionalidade de transcri\xe7\xe3o de \xe1udio no sistema Lyz."]})]})]})]})})}):(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Carregando..."})}},3696:(e,a,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/transcription",function(){return r(2418)}])},4842:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var s=r(7876);r(4232);var t=r(7328),o=r.n(t),i=r(2471),n=r(8230),l=r.n(n),d=r(9099);let c=e=>{let{children:a,title:r="Lyz - Planos C\xedclicos Personalizados"}=e,{user:t,logout:n,isAuthenticated:c,isSuperadmin:m}=(0,i.As)(),x=(0,d.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:r}),(0,s.jsx)("meta",{name:"description",content:"Sistema Lyz para planos personalizados baseados em ciclicidade feminina"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)(l(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"Lyz"})}),c&&(0,s.jsxs)("nav",{className:"ml-6 flex space-x-8",children:[(0,s.jsx)(l(),{href:"/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat("/dashboard"===x.pathname?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Dashboard"}),(0,s.jsx)(l(),{href:"/plans",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/plans")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Meus Planos"}),m&&(0,s.jsx)(l(),{href:"/admin/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/admin")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Administra\xe7\xe3o"})]})]}),(0,s.jsx)("div",{className:"flex items-center",children:c?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==t?void 0:t.name.split(" ")[0]]}),(0,s.jsx)("button",{onClick:n,className:"text-sm text-gray-700 hover:text-primary-600",children:"Sair"})]}):(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(l(),{href:"/auth/login",className:"text-sm font-medium text-gray-700 hover:text-primary-600",children:"Entrar"}),(0,s.jsx)(l(),{href:"/auth/register",className:"text-sm font-medium bg-primary-600 text-white px-3 py-1 rounded-md hover:bg-primary-700",children:"Registrar"})]})})]})})}),(0,s.jsx)("main",{className:"flex-grow",children:a}),(0,s.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-auto",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Lyz Healthcare. Todos os direitos reservados."]})})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[695,636,593,792],()=>a(3696)),_N_E=e.O()}]);