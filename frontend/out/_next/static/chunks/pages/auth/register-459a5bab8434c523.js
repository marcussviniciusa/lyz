(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{4842:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var r=s(7876);s(4232);var l=s(7328),i=s.n(l),t=s(2471),n=s(8230),d=s.n(n),m=s(9099);let o=e=>{let{children:a,title:s="Lyz - Planos C\xedclicos Personalizados"}=e,{user:l,logout:n,isAuthenticated:o,isSuperadmin:c}=(0,t.As)(),x=(0,m.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:s}),(0,r.jsx)("meta",{name:"description",content:"Sistema Lyz para planos personalizados baseados em ciclicidade feminina"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(d(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"Lyz"})}),o&&(0,r.jsxs)("nav",{className:"ml-6 flex space-x-8",children:[(0,r.jsx)(d(),{href:"/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat("/dashboard"===x.pathname?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Dashboard"}),(0,r.jsx)(d(),{href:"/plans",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/plans")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Meus Planos"}),c&&(0,r.jsx)(d(),{href:"/admin/dashboard",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(x.pathname.startsWith("/admin")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Administra\xe7\xe3o"})]})]}),(0,r.jsx)("div",{className:"flex items-center",children:o?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==l?void 0:l.name.split(" ")[0]]}),(0,r.jsx)("button",{onClick:n,className:"text-sm text-gray-700 hover:text-primary-600",children:"Sair"})]}):(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(d(),{href:"/auth/login",className:"text-sm font-medium text-gray-700 hover:text-primary-600",children:"Entrar"}),(0,r.jsx)(d(),{href:"/auth/register",className:"text-sm font-medium bg-primary-600 text-white px-3 py-1 rounded-md hover:bg-primary-700",children:"Registrar"})]})})]})})}),(0,r.jsx)("main",{className:"flex-grow",children:a}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-auto",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Lyz Healthcare. Todos os direitos reservados."]})})})]})]})}},5058:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var r=s(7876),l=s(4232),i=s(4842),t=s(9593),n=s(1408),d=s(2471),m=s(8230),o=s.n(m);let c=n.Ik().shape({email:n.Yj().email("Email inv\xe1lido").required("Email \xe9 obrigat\xf3rio")}),x=n.Ik().shape({name:n.Yj().required("Nome \xe9 obrigat\xf3rio"),email:n.Yj().email("Email inv\xe1lido").required("Email \xe9 obrigat\xf3rio"),password:n.Yj().min(8,"Senha deve ter pelo menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Senha deve conter pelo menos uma letra mai\xfascula, uma min\xfascula, um n\xfamero e um caractere especial").required("Senha \xe9 obrigat\xf3ria"),confirmPassword:n.Yj().oneOf([n.KR("password")],"Senhas n\xe3o conferem").required("Confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria")}),h=()=>{let{validateEmail:e,register:a,loading:s}=(0,d.As)(),[i,n]=(0,l.useState)(1),[m,h]=(0,l.useState)(null),[p,u]=(0,l.useState)(null),j=async a=>{h(null);try{let s=await e(a.email);u({...s.userData,email:a.email}),n(2)}catch(e){var s,r;h((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Falha na valida\xe7\xe3o do email. Verifique se est\xe1 cadastrado no Curseduca.")}},v=async e=>{h(null);try{if(!p||!p.id)throw Error("Dados de usu\xe1rio inv\xe1lidos. Por favor, volte e valide seu email novamente.");await a({curseduca_id:p.id,name:p.name||e.name,email:p.email||e.email,password:e.password})}catch(e){var s,r;h((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Falha no registro. Tente novamente.")}};return(0,r.jsxs)("div",{className:"card max-w-md w-full mx-auto",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{className:"text-center text-xl font-bold text-gray-800",children:1===i?"Valida\xe7\xe3o de Email":"Complete seu Registro"})}),(0,r.jsx)("div",{className:"card-body",children:1===i?(0,r.jsx)(t.l1,{initialValues:{email:""},validationSchema:c,onSubmit:j,children:e=>{let{isSubmitting:a}=e;return(0,r.jsxs)(t.lV,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Digite seu email para validarmos seu cadastro no Curseduca."}),(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,r.jsx)(t.D0,{type:"email",name:"email",id:"email",className:"input-field",placeholder:"seu.email@exemplo.com"}),(0,r.jsx)(t.Kw,{name:"email",component:"div",className:"error-message"})]}),m&&(0,r.jsx)("div",{className:"bg-red-50 p-3 rounded-md",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:m})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"btn-primary w-full",disabled:s||a,children:s?"Validando...":"Validar Email"})}),(0,r.jsx)("div",{className:"text-center text-sm",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["J\xe1 possui conta?"," ",(0,r.jsx)(o(),{href:"/auth/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Entrar"})]})})]})}}):(0,r.jsx)(t.l1,{initialValues:{name:(null==p?void 0:p.name)||"",email:(null==p?void 0:p.email)||"",password:"",confirmPassword:""},enableReinitialize:!0,validationSchema:x,onSubmit:v,children:e=>{let{isSubmitting:a}=e;return(0,r.jsxs)(t.lV,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nome"}),(0,r.jsx)(t.D0,{type:"text",name:"name",id:"name",className:"input-field bg-gray-100",disabled:!0}),(0,r.jsx)(t.Kw,{name:"name",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,r.jsx)(t.D0,{type:"email",name:"email",id:"email",className:"input-field bg-gray-100",disabled:!0}),(0,r.jsx)(t.Kw,{name:"email",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),(0,r.jsx)(t.D0,{type:"password",name:"password",id:"password",className:"input-field"}),(0,r.jsx)(t.Kw,{name:"password",component:"div",className:"error-message"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar Senha"}),(0,r.jsx)(t.D0,{type:"password",name:"confirmPassword",id:"confirmPassword",className:"input-field"}),(0,r.jsx)(t.Kw,{name:"confirmPassword",component:"div",className:"error-message"})]}),m&&(0,r.jsx)("div",{className:"bg-red-50 p-3 rounded-md",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:m})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{type:"button",className:"btn-secondary w-1/2",onClick:()=>n(1),children:"Voltar"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary w-1/2",disabled:s||a,children:s?"Registrando...":"Registrar"})]})]})}})})]})};var p=s(9099);let u=()=>{let{isAuthenticated:e}=(0,d.As)(),a=(0,p.useRouter)();return l.useEffect(()=>{e&&a.push("/dashboard")},[e,a]),(0,r.jsx)(i.A,{title:"Cadastro - Lyz",children:(0,r.jsx)("div",{className:"bg-gray-50 min-h-[calc(100vh-136px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary-800",children:"Lyz"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Crie sua conta para acessar o sistema"})]}),(0,r.jsx)(h,{})]})})})}},6820:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(5058)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[695,856,636,593,792],()=>a(6820)),_N_E=e.O()}]);